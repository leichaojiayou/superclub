// pages/duanxintixing/duanxintixing.js
Page({
  data: {
    beginSmsTime: 86400,
    beginSmsTimes: []
  },
  onLoad: function (options) {
    var beginSmsTime = options.beginSmsTime
    var beginSmsTimes = options.beginSmsTimes
    // var beginSmsTimes = [{ "isDefault": 1, "text": "24小时前", "value": 86400 }, { "isDefault": 0, "text": "12小时前", "value": 43200 }, { "isDefault": 0, "text": "6小时前", "value": 21600 }, { "isDefault": 0, "text": "3小时前", "value": 10800 }, { "isDefault": 0, "text": "1小时前", "value": 3600 }, { "isDefault": 0, "text": "不发送", "value": -1 }]
    // var beginSmsTime = 86400
    this.setData({
      beginSmsTimes: beginSmsTimes,
      beginSmsTime: beginSmsTime
    })
  },
  onUnload: function () {
    // 页面关闭
    var smsTimes = {}
    smsTimes.beginSmsTime = this.data.beginSmsTime;
    smsTimes.beginSmsTimes =  this.data.beginSmsTimes;
    app.globalData.smsTimes = smsTimes;  //存储数据到app对象上
    wx.navigateBack()
  },
  changehidden: function (e) {
    var index = e.target.id;
    var smsTimes = this.data.beginSmsTimes;
    for (var i = 0; i < smsTimes.length; i++) {
      smsTimes[i].isDefault = 0;
    }
    smsTimes[index].isDefault = 1;
    this.setData({
      beginSmsTime: smsTimes[index].value,
      beginSmsTimes: smsTimes
    })
  }

})