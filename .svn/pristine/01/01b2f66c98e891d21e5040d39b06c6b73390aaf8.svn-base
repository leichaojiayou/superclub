const app = getApp();
const mineApi = app.api("mineApi");
var billId = 0;

Page({
  data: {
    info: {},
  },

  onLoad: function (options) {
    if (options.billId) {
      billId = options.billId;
    }
    this.getWithdrawDetail();
  },

  getWithdrawDetail: function () {
    var that = this;
    mineApi.moneyWithdrawDetail({
      data: {
        bill_id: billId
      },
    },
      function (res) {
        res.data.createTimeStr = app.util.formatTime6(res.data.createTime);
        for(var i in res.data.apply){
          res.data.apply[i].timeStr = app.util.formatTime6(res.data.apply[i].time);
        }
        that.setData({
          info: res.data
        })
      },
      function (res) {
        console.log("fail");
      },
      function (res) {
        app.util.getErrorMsg(res);
      }

    )

  },
})