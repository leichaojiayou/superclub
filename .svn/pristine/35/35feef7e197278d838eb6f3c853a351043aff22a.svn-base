<import src="../../../template/toasts/toasts.wxml" />
<scroll-view scroll-y="true" style="height:100vh;white-space: normal;" bindscrolltolower="lower" bindscrolltoupper='reload' data-clubid="{{clubId}}">

  <!-- topview -->
  <view class="topview" bindtap="toClubInformation">
    <view class="left_img_view">
      <image wx:if="{{!modifyLogo}}" src="{{club.logo}}" class="club_img"></image>
      <image wx:else src="{{modifyLogo}}" class="club_img"></image>
      <image src="{{club.gradeImg}}" class="stars_img"></image>
    </view>
    <view class="right_view">
      <text wx:if="{{!modifyTitle}}">{{club.title}}</text>
      <text wx:else>{{modifyTitle}}</text>
      <view class="right_view_1">
        <view class="right_view_1_1">
          <view class="top_view1">
            <block wx:for="{{modifyFeatures==null?club.features:modifyFeatures}}" wx:key='index'>
              <text wx:if="{{index == 0&&item.name}}" class="icon_text" style="background-color:rgb(145, 213, 192)">{{item.name}}</text>
              <text wx:elif="{{index == 1&&item.name}}" class="icon_text" style="background-color:rgb(172, 198, 237)">{{item.name}}</text>
              <text wx:elif="{{index == 2&&item.name}}" class="icon_text" style="background-color:rgb(227, 192, 163)">{{item.name}}</text>
            </block>
          </view>
          <view class="top_view2">
            <text>ID : {{club.clubNo}} {{club.city.province}} {{club.city.cityName}}</text>
            <text class="bigsize1">{{modifySlogan==null?club.slogan:modifySlogan}}</text>
          </view>
        </view>
        <view class="right_view_1_2">
          <image class="right_img" src="{{img.imgRight}}" />
          <view class="clubHome-qrcode-tap" catchtap="showQrcode">
            <image class="right_img1" src="{{img.imgQrcode}}" />
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- midview -->
  <view class="midview" style="{{staut==1 ? 'height: 914rpx;':''}}">
    <view class="midview_top_1">
      <view class="midview_top_1_1" bindtap="nato_member_club_page">
        <image mode="aspectFill" class="midview_img" src="{{img.imgMember}}"></image>
        <text class="midview_text">会员{{club.memberCount}}</text>
      </view>
      <view class="midview_top_1_1">
        <image class="midview_img" src="{{img.imgAct}}"></image>
        <text class="midview_text">活动{{club.activityCount}}</text>
      </view>
    </view>
    <view class="border_1" style="padding-bottom:40rpx;">
      <view class="border_1_1"></view>
      <text>俱乐部活动</text>
      <view class="border_1_1"></view>
    </view>
    <view wx:for="{{activity}}" wx:key='index' class="midview_list">

      <!-- 每条---报名中 -->
      <view class="midview_item_1" catchtap="actDetail" data-actid="{{item.actID}}">
        <view class="midview_item_img_view">
          <text class=" midview_item_1_text1" wx:if="{{item.timeFlag}}">报名中</text>
          <text class=" midview_item_1_text2" wx:else>已结束</text>
          <image mode="aspectFill" class=" midview_item_1_img" src="{{item.cover}}"></image>
        </view>
        <view class="midview_item_2">
          <view style="height:96rpx;margin-top:-10rpx">
            <text class="bigsize">{{item.title}}</text>
          </view>
          <text class="smalltext" style="padding-bottom:6rpx">时间 {{item.begin}}</text>
          <view class="midview_item_2_1">
            <text class="smalltext">报名 {{item.applyCount}}</text>
            <text class="pricetext">￥{{item.cost}}</text>
          </view>
        </view>
      </view>
    </view>
    <view wx:if="{{activity}}" class="theend_text_view">
      <text class="theend_text">THE END</text>
    </view>
    <view wx:else class="noimg_view">
      <image src="{{img.imgAct}}" class="noimg"></image>
      <text>暂无活动</text>
    </view>
  </view>
  <view wx:if="{{tempJoin!=null}}" style="margin-top: 78rpx;margin-bottom: 47rpx;"></view>
  <view wx:elif="{{club.roleType != 0 && club.roleType != 1 }}" style="margin-top: 78rpx;margin-bottom: 47rpx;">
    <view class="culb-manage" catchtap="mamgerClub">
      <button class="button">管理俱乐部</button>
    </view>
  </view>
  <view style="margin-top: 66rpx" wx:elif="{{club.roleType == 0 }}">
    <view class="culb-manage" catchtap="joinClub">
      <button class="button">加入俱乐部</button>
    </view>
  </view>
  <template is="sendCheckCode" data="{{param,status,time}}" />
  <template is="clubCode" data="{{club}}" />
  <template is="joinCheck" data="{{joinShowStyle,join}}" />
</scroll-view>