// pages/huodongfengmian/huodongfengmian.js
Page({
  data:{
    item:[
      {img:'https://cdn.51julebu.com/club/img/170210/64940aaf4745433c9486c896e51d2e4e.jpg'},
      {img:'https://cdn.51julebu.com/club/img/170210/64940aaf4745433c9486c896e51d2e4e.jpg'},
      {img:'https://cdn.51julebu.com/club/img/170210/64940aaf4745433c9486c896e51d2e4e.jpg'},
      {img:'https://cdn.51julebu.com/club/img/170210/64940aaf4745433c9486c896e51d2e4e.jpg'},
      {img:'https://cdn.51julebu.com/club/img/170210/64940aaf4745433c9486c896e51d2e4e.jpg'},
      {img:'https://cdn.51julebu.com/club/img/170210/64940aaf4745433c9486c896e51d2e4e.jpg'},
      {img:'https://cdn.51julebu.com/club/img/170210/64940aaf4745433c9486c896e51d2e4e.jpg'},
      {img:'https://cdn.51julebu.com/club/img/170210/64940aaf4745433c9486c896e51d2e4e.jpg'},
      {img:'https://cdn.51julebu.com/club/img/170210/64940aaf4745433c9486c896e51d2e4e.jpg'},
    ],
    // 图片预览模式
    previewMode: false,

    // 当前预览索引
    previewIndex: 0,

    // 多媒体内容列表
    mediaList: [],
  },
 onLoad: function(params) {
    
  console.info("xxxxxxxxxxxxxxxxx")
  },

  // 过滤出预览图片列表
  getMediaList() {
    if (typeof this.data.diary !== 'undefined' &&
      this.data.diary.list.length) {
      this.setData({
        mediaList: this.data.diary.list.filter(
          content => content.type === 'IMAGE'),
      })
    }
  },

  // 进入预览模式
  enterPreviewMode:function(event) {
    let url = event.target.dataset.src;
    let urls = this.data.mediaList.map(media => media.content);
    let previewIndex = urls.indexOf(url);
    this.setData({previewMode: true, previewIndex});
  },

  // 退出预览模式
  leavePreviewMode:function() {
    this.setData({previewMode: false, previewIndex: 0});
  },
  onHide: function() {
  },


})