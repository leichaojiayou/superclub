// pages/send_msg/send_msg.js
Page({
  data: {
    check: false,
    people: 1,
    num_txt: 120,
    tips: '短信内容仅限于活动时间、地址、注意事项等重要提示。否则无法通过审核。用户无法回复本短信。短信经审核后由系统发送，请勿发送违法、反动内容。'
  },
  formSubmit: function (e) {
    if (this.data.check) {
      // console.log(e)
      console.log(e.detail.value)
      const phone = e.detail.value.input;
      // console.log(phone)
      const check = /^1\d{10}$/;
      if (phone == '' || !check.test(phone)) {
        wx.showToast({
          icon: '',
          title: '请输入正确手机号码',
          duration: 1500,
        })
      } else {
        this.send();
      }
    } else {
      this.send();
    }
  },
  send() {
    wx.showToast({
      title: '已发送',
      icon: 'success',
      duration: 2000
    })
  }
  ,
  checkboxChange: function (e) {
    if (e.detail.value[0] == 1) {
      this.setData({
        check: true,
      });
    } else {
      this.setData({
        check: false,
      });
    }
  }
})