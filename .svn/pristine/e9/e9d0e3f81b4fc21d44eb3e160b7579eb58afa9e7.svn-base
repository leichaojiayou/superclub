
<!--用户报名活动列表item-->
<template name="apply_act_item">
  <view class="common2" catchtap="goToApplyDetail" id="{{item.activityID}}">

    <!--整个大框-->
    <view class="nd_header">

      <!--活动封面-->
      <image src="{{item.cover}}" class="nd_img"></image>

      <!--图片右边的大框-->
      <view style="display:flex;flex-direction: column;margin-left:3.2%;margin-right:3.2%;width:80%;">

        <!--活动标题-->
        <text class="nd_name">{{item.title}}</text>

        <!--用户名-手机号-->
        <view class="nd_time">
          <text style="margin-right:1.5%;"></text>
          <text>{{item.userName}}-{{item.userMobile}}</text>
        </view>

        <!--票价名称和报名费用-->
        <view style="display:flex;justify-content: space-between; align-items: center;margin-top:0.8%;">
          <text wx:if="{{item.ticketName!='' && item.ticketName!=null}}" class="nd_time">{{item.ticketName}}</text>
          <text wx:else class="nd_time"></text>
          <text wx:if="{{item.applyCost!=0}}" class="money">￥{{item.applyCost}}</text>
          <text wx:else class="money">免费</text>
        </view>
      </view>
    </view>

    <!--foot-->
    <!--活动结束-->
    <view wx:if="{{item.activityStatus==1}}" style="margin: 3.6% 3.3% 3.5% 3.3%;display:flex;margin-bottom:3.6vh;align-items:center;">
      <text wx:if="{{item.payStatus==0 && item.applyStatus==1}}" class="des_txt">报名成功</text>
      <text wx:elif="{{item.payStatus==2 && item.applyStatus==1}}" class="des_txt">报名成功</text>
      <text wx:else class="des_txt">已取消</text>
      <view class="it_all">
        <view style="margin-left: 10px;">
          <view class="it" style="color:rgba(100,100,100,0.4);border-color:rgba(100,100,100,0.4);">
            <text>活动结束</text>
          </view>
        </view>
      </view>
    </view>

    <!--报名成功-->
    <view wx:elif="{{item.applyStatus==1 && item.payStatus!=1}}" style="margin: 3.6% 3.3% 3.5% 3.3%;display:flex;margin-bottom:3.6vh;align-items:center;">
      <text class="des_txt">报名成功</text>
      <view class="it_all">
        <view style="margin-left: 10px;">
          <view class="it" style="color:rgb(0,0,0);border-color:rgb(0,0,0);" catchtap="changeApply">
            <text class="" catchtap="changeApply">修改报名</text>
          </view>
        </view>
      </view>
    </view>

    <!--报名取消-->
    <view wx:elif="{{item.applyStatus == 2}}" style="margin: 3.6% 3.3% 3.5% 3.3%;display:flex;margin-bottom:3.6vh;align-items:center;">
      <text class="des_txt">已取消</text>
      <view class="it_all">
        <view style="margin-left: 10px;">
          <view wx:if="{{item.activityStatus == 0}}" class="it" style="color:rgb(61,209,164);border-color:rgb(61,209,164);" catchtap="againApply">
            <text class="" catchtap="againApply">重新报名</text>
          </view>
          <view wx:else class="it" style="color:rgba(100,100,100,0.4);border-color:rgba(100,100,100,0.4);">
            <text>活动结束</text>
          </view>
        </view>
      </view>
    </view>

    <!--待审核-->
    <view wx:elif="{{item.applyStatus == 0}}" style="margin: 3.6% 3.3% 3.5% 3.3%;display:flex;margin-bottom:3.6vh;align-items:center;">
      <text class="des_txt">待审核</text>
      <view class="it_all">
        <view style="margin-left: 10px;">
          <view class="it" style="color:rgb(0,0,0);border-color:rgb(0,0,0);" catchtap="changeApply">
            <text class="" catchtap="changeApply">修改报名</text>
          </view>
        </view>
      </view>
    </view>

    <!--待付款-->
    <view wx:elif="{{item.applyStatus==1 && item.payStatus==1}}" style="margin: 3.6% 3.3% 3.5% 3.3%;display:flex;margin-bottom:3.6vh;align-items:center;">
      <view wx:if="{{item.remainTime!='' && item.remainTime!=null}}">
        <text class="des_txt">名额保留：</text>
        <text class="des_txt">{{item.remainTime}}</text>
      </view>
      <view wx:else>
        <text class="des_txt">待付款</text>
      </view>
      <view class="it_all">
        <view style="margin-left: 10px;">
          <view class="it" style="color:rgb(0,0,0);border-color:rgb(0,0,0);" catchtap="changeApply">
            <text catchtap="changeApply">修改报名</text>
          </view>
        </view>
        <view style="margin-left: 10px;">
          <view class="it" style="color:rgb(0,0,0);border-color:rgb(0,0,0);" catchtap="cancelApply">
            <text catchtap="cancelApply">取消报名</text>
          </view>
        </view>
        <view style="margin-left: 10px;">
          <view class="it" style="color:rgb(61,209,164);border-color:rgb(61,209,164);" catchtap="toPay">
            <text catchtap="toPay">去支付</text>
          </view>
        </view>
      </view>
    </view>

    <view wx:else style="margin: 3.6% 3.3% 3.5% 3.3%;display:flex;margin-bottom:3.6vh;align-items:center;">
    </view>
  </view>
</template>

<!--引用模板-->
<template is="apply_act_item" data="{{item}}" />